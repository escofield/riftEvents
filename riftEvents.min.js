(function(){Number.prototype.toHHMMSS=function(){var t,i,n;return n=Math.floor(this),t=Math.floor(n/3600),n-=t*3600,i=Math.floor(n/60),n-=i*60,t<10&&(t="0"+t),i<10&&(i="0"+i),n<10&&(n="0"+n),t+":"+i+":"+n};this.RiftEvents=function(){function n(){this.Fetch()}var t;return t=[{name:"Seastone",id:1701},{name:"Greybriar",id:1702},{name:"Deepwood",id:1704},{name:"Wolfsbane",id:1706},{name:"Faeblight",id:1707},{name:"Laethys",id:1708},{name:"Hailol",id:1721}],n.prototype.AddEvent=function(n,t,i){var u,f,r;return u=""+i+"_"+n.zoneId,$("#"+u)!=null?$("#"+u+" > li.time").text((t-n.started).toHHMMSS):(f=$("<li>"),f.attr("id",u),r=$("<ul>"),$.data(r,"time",n.started),$.data(r,"zoneId",n.zoneId),r.append($("<li>").addClass("zone").text(n.zone)),r.append($("<li>").addClass("shard").text(i)),r.append($("<li>").addClass("name").text(n.name)),r.append($("<li>").addClass("time").text((t-n.started).toHHMMSS)),f.append(r),$("#zoneEvents").append(r).sort(function(n,t){return $.data(n,"time")-$.data(t,"time")}))},n.prototype.RemoveEvent=function(){},n.prototype.Fetch=function(){return $.ajax({url:"http://chat-us.riftgame.com:8080/chatservice/time",dataType:"json",always:function(n){return $.each(t,function(t,i){return $.ajax({url:"http://chat-us.riftgame.com:8080/chatservice/zoneevent/list?shardId="+i.id,dataType:"json",fail:function(){},done:function(t){var u,r,o,f,e;if(t.status==="success"){for(f=t.data,e=[],r=0,o=f.length;r<o;r++)u=f[r],u.name!=null&&e.push(this.AddEvent(u,n,i.id));return e}}})})}})},n}();$(function(){return window.events=new RiftEvents})}).call(this)